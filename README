
# Description

  In this project i write a interpreter for the Alarmdepesche of german fire departments like Thuringia.

# Installation

     $ yum install python-pip
     $ pip install --upgrade pip
     $ pip install imaplib
     $ pip install beautifulsoup4
     $ pip install HTMLParser
     $ pip install bs4

## Python full rest service
     $ pip install flask

## MySQL Datenbank
     $ yum install python python-devel mysql-devel redhat-rpm-config gcc
     $ pip install MySQL-python


# Create a config file

  For the imap login it is usefule to create a file with the name 'alarmdepescheconfig.py'.
  The content of the file can look like:

     #!/usr/bin/env python
     imap = {'host': 'imap.meinServer.de',
         'port': '993',
         'user': 'myMail@myProvider.domain',
         'passwd': 'XXXXX',
         'mailBox': 'INBOX'}

     mysql = { 'host'   : 'localhost'
         , 'user'   : 'root'
         , 'passwd' : ''
         }

# Create used database shema

  In my point i use a mysql db.

     mysql> create database FeuerwehrNotifications;
     mysql> create table Alarmdepesche (id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, dbIN TIMESTAMP DEFAULT CURRENT_TIMESTAMP, messageID BIGINT UNSIGNED, Einsatzstichwort VARCHAR(512), AlarmiertesEinsatzmittel VARCHAR(512), Sondersignal VARCHAR(512), Einsatzbeginn VARCHAR(512), Einsatznummer VARCHAR(512), Objekt VARCHAR(512), Objekttyp VARCHAR(512), StrasseHausnummer VARCHAR(512), Segment VARCHAR(512), PLZOrt VARCHAR(512), Region VARCHAR(512), Info VARCHAR(512), Name VARCHAR(512), Zusatz VARCHAR(512), PRIMARY KEY (id));


# Run 

     $ python python/parseAlarmMail.py
     $ 
